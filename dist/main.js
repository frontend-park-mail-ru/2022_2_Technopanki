(()=>{"use strict";function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function t(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var r=t((function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=t})),n="skip",o="update",i="replace",c="remove",u="append",f=function(){return{type:n}},a=function(e,t,r){return{type:o,attrUpdater:e,childrenUpdater:t,oldNode:r}},p=function(e){return{type:i,node:e}},l={remove:[],set:[],update:[]},s=(Symbol("key"),Symbol("dom")),y=Symbol("component"),d=function(e,t,r){for(;t[0]&&t[0][0]!==r;)e.push({type:c}),t.shift()},b=function(e,t,r){for(;t[0]&&t[0][0]!==r;)e.push((n=t[0][1],{type:u,node:n})),t.shift();var n},h=function(e,t){var r=e.map((function(e){return e[0]})),n=t.map((function(e){return e[0]}));return r.find((function(e){return-1!==n.indexOf(e)}))||null};function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],c=!0,u=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{c||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var j=function(e,t){if(e.$$typeof.description!==t.$$typeof.description)return p(t);if(e.$$typeof.description===s.description&&t.$$typeof.description===s.description){var r=(n=e.props,o=t.props,i=Object.entries(n).filter((function(e){var t=w(e,2),r=t[0];return t[1],"children"!==r})),c=Object.entries(o).filter((function(e){var t=w(e,2),r=t[0];return t[1],"children"!==r})),u=i.map((function(e){var t=w(e,2),r=t[0];return t[1],r})),m=c.map((function(e){var t=w(e,2),r=t[0];return t[1],r})),{set:c.filter((function(e){var t=w(e,2),r=t[0];return t[1],-1===u.indexOf(r)})),remove:u.filter((function(e){return-1===m.indexOf(e)})),update:c.filter((function(e){var t=w(e,2),r=t[0],n=t[1];return-1!==u.indexOf(r)&&u.find((function(e){return e[0]===r&&e[1]!==n}))}))});return 0==r.set.length&&0==r.remove.length&&0==r.update.length&&e.props.children===t.props.children?f():function(e,t){return!e.props.children&&!e.props.children||"string"==typeof e.props.children&&"string"==typeof t.props.children}(e,t)?function(e,t){return e.props.children||e.props.children?(console.log(e.props.children,t.props.children),"string"==typeof e.props.children&&"string"==typeof t.props.children?e.props.children===t.props.children?f():a(v(v({},l),{},{update:[["textContent",t.props.children]]}),[],e):f()):f()}(e,t):a(r,function(e,t){var r=[];if(!Array.isArray(e)||!Array.isArray(t))throw new Error("not array: ".concat(e,", ").concat(t));for(var n=e.map((function(e){return[e.key,e]})),o=t.map((function(e){return[e.key,e]})),i=h(n,o);i;)d(r,n,i),b(r,o,i),r.push(j(n.shift()[1],o.shift()[1])),i=h(n,o);return d(r,n,i),b(r,o,i),r}(e.props.children,t.props.children),e)}if(e.$$typeof.description!==y.description||t.$$typeof.description!==y.description)throw new Error("Undefined type of node: ".concat(e.$$typeof,", ").concat(t.$$typeof));return e._instance!==t._instance?p(t):f();var n,o,i,c,u,m},P=function(e,t){for(var r in t)"children"!==r&&(e[r]=t[r])},E=function(e,t){t&&("string"==typeof t?e.innerText=t:t.constructor===Array?t.forEach((function(t){S(e,t)})):S(e,t))},R=function(e,t){var r=new t;return r.rootDomRef=e,r.prevRenderVNodeRef=r.render(),S(e,r.prevRenderVNodeRef),r},S=function e(t,r){if(r.$$typeof.description===s.description){var n=document.createElement(r.type);r._domElement=n,P(n,r.props),E(n,r.props.children),t.appendChild(n)}else if(r.$$typeof.description===y.description)if(r._instance){if(!r._instance.rootDomRef)throw new Error("node._instance._baseElement is empty");e(r._instance.rootDomRef,r._instance.render())}else r._instance=R(t,r.type.prototype.constructor)},_=function(e,t){var r=document.createElement(e);return P(r,t),r};function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],c=!0,u=!1;try{for(r=r.call(e);!(c=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{c||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var k=function(e,t){if(console.log(t),t.type!==n){if(t.type!==i)return t.type===o&&(function(e,t){t.attrUpdater.set.forEach((function(t){var r=$(t,2),n=r[0],o=r[1];return e[n]=o})),t.attrUpdater.update.forEach((function(t){var r=$(t,2),n=r[0],o=r[1];return e[n]=o})),t.attrUpdater.remove.forEach((function(t){return e.removeAttribute(t)}))}(e,t),t.childrenUpdater&&t.oldNode&&D(t.oldNode._domElement,t.childrenUpdater)),e;!function(e,t){var r=document.createElement(t.type);P(r,t.props),e.replaceWith(r)}(e,t.node)}},D=function(e,t){for(var r=0,o=0;o<t.length;++o)if(t[o].type!==n){var i=t[o],f=e.childNodes[o+r];i.type!==u?i.type!==c?k(f,i):(f.remove(),r-=1):f.appendChild(_(i.node.type,i.node.props))}};function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function U(e,t){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},U(e,t)}function C(e,t){if(t&&("object"===N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}var V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U(e,t)}(f,e);var t,r,i,c,u=(i=f,c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=I(i);if(c){var r=I(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return C(this,e)});function f(){return x(this,f),u.apply(this,arguments)}return t=f,r=[{key:"setState",value:function(e,t){this.state=e(this.state),console.log("setState called"),t&&t(),function(e){if(!e.rootDomRef||!e.prevRenderVNodeRef)throw new Error("rootDomRef or prevRenderVNodeRef is empty. component: ".concat(e));var t,r,i,c,u,f=e.render();f.$$typeof.description===y.description&&(f._instance=e),console.log(e.rootDomRef,e.prevRenderVNodeRef,f),t=e.rootDomRef,r=e.prevRenderVNodeRef,c=j(r,i=f),u=t,console.log(c),c.type!==n&&c.type===o&&(r._domElement&&(i._domElement=r._domElement,u=i._domElement),console.log(c),D(u,c.childrenUpdater)),e.prevRenderVNodeRef=f}(this)}}],r&&T(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(r),B=function(e,t,r){var n=r;return n||(n=Symbol("key")),H(e,t,n)},H=function(e,t,r){var n={$$typeof:y,type:e,props:t,key:r};return"string"==typeof e&&(n.$$typeof=s),n},M=function(e,t,r){return B(e,t,r)};function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function F(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function J(e,t){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},J(e,t)}function K(e,t){if(t&&("object"===q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function L(e){return L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},L(e)}var Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J(e,t)}(c,e);var t,r,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=L(n);if(o){var r=L(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return K(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={counter:2},t}return t=c,(r=[{key:"render",value:function(){var e,t=this;return"div",e={className:"div",children:[M("p",{className:"counter",children:"".concat(this.state.counter)},1),M("p",{className:"hello",children:"Hello world!"},2),M("p",{className:"hello",children:"Hello world!"},3),M("p",{className:"hello",children:"Hello world!"},4),M("p",{children:"Hello world!"},5),M("button",{onclick:function(){return t.setState((function(e){return z(z({},e),{},{counter:e.counter+1})}))},children:"Increment"},6)]},B("div",e,undefined)}}])&&G(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(V);function X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.root=t}var t,r;return t=e,(r=[{key:"render",value:function(e){S(this.root,e)}},{key:"unmount",value:function(){}}])&&X(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();(function(e){if(!e)throw new Error("Root element: ".concat(e));return new Y(e)})(document.querySelector("#root")).render(M(Q,{}))})();
//# sourceMappingURL=main.js.map