(()=>{"use strict";function r(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function e(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var t=e((function r(e,t){!function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.props=e,this.context=t})),n="skip",o="update",i="replace",c="remove",u="append",p=function(){return{type:n}},f=function(r,e){return{type:o,attrUpdater:r,childrenUpdater:e}},a=function(r){return{type:i,node:r}},l=function(){return{type:c}},s=function(r){return{type:u,node:r}},y={remove:[],set:[],update:[]},d=Symbol("key"),h=Symbol.for("dom"),b=Symbol.for("component"),m=(Symbol.for("temp"),Symbol.for("context"),Symbol.for("provider"),Symbol.for("consumer"),function(r,e,t){for(;e[0]&&e[0][0]!==t;)r.push(l()),e.shift()}),v=function(r,e,t){for(;e[0]&&e[0][0]!==t;)r.push(s(e[0][1])),e.shift()},O=function(r,e){var t=r.map((function(r){return r[0]})),n=e.map((function(r){return r[0]}));return t.find((function(r){return-1!==n.indexOf(r)}))||null},w=function(r,e){for(var t=[],n=r.map((function(r){return[r.key,r]})),o=e.map((function(r){return[r.key,r]})),i=O(n,o);i;)m(t,n,i),v(t,o,i),t.push($(n.shift()[1],o.shift()[1])),i=O(n,o);return m(t,n,i),v(t,o,i),t};function j(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function g(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?j(Object(t),!0).forEach((function(e){S(r,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}))}return r}function S(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function P(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,o,i=[],c=!0,u=!1;try{for(t=t.call(r);!(c=(n=t.next()).done)&&(i.push(n.value),!e||i.length!==e);c=!0);}catch(r){u=!0,o=r}finally{try{c||null==t.return||t.return()}finally{if(u)throw o}}return i}}(r,e)||function(r,e){if(r){if("string"==typeof r)return A(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?A(r,e):void 0}}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var E=function(r,e){var t=Object.entries(r).filter((function(r){var e=P(r,2),t=e[0];return e[1],"children"!==t})),n=Object.entries(e).filter((function(r){var e=P(r,2),t=e[0];return e[1],"children"!==t})),o=t.map((function(r){var e=P(r,2),t=e[0];return e[1],t})),i=n.map((function(r){var e=P(r,2),t=e[0];return e[1],t}));return{set:n.filter((function(r){var e=P(r,2),t=e[0];return e[1],-1===o.indexOf(t)})),remove:o.filter((function(r){return-1===i.indexOf(r)})),update:n.filter((function(r){var e=P(r,2),t=e[0],n=e[1];return-1!==o.indexOf(t)&&o.find((function(r){return r[0]===t&&r[1]!==n}))}))}},R=function(r,e,t){return f(r,[$(e,t)])},$=function r(e,t){if(e.$$typeof!==t.$$typeof)return a(t);if(e.$$typeof===h&&t.$$typeof===h){var n=E(e.props,t.props);return function(r,e){return!r.props.children&&!r.props.children||"string"==typeof r.props.children&&"string"==typeof e.props.children}(e,t)?function(r,e){return r.props.children||e.props.children?!r.props.children&&e.props.children?s(e):r.props.children&&!e.props.children?l():"string"==typeof r.props.children&&"string"==typeof e.props.children?r.props.children===e.props.children?p():f(g(g({},y),{},{update:[["textContent",e.props.children]]}),[]):p():p()}(e,t):Array.isArray(e.props.children)||Array.isArray(t.props.children)?f(n,w(Array.isArray(e.props.children)?e.props.children:[e.props.children],Array.isArray(t.props.children)?t.props.children:[t.props.children])):R(n,e.props.children,t.props.children)}if(e.$$typeof.description===b.description&&t.$$typeof.description===b.description){if(console.log("Diff: ",e,t),e.type!==t.type)return a(t);var o=E(e.props,t.props);return Array.isArray(e.props.children)||Array.isArray(t.props.children)?f(o,w(Array.isArray(e.props.children)?e.props.children:[e.props.children],Array.isArray(t.props.children)?t.props.children:[t.props.children])):f(o,[r(e.props.children,t.props.children)])}return r(e.props.children,t.props.children)},_=function(r,e){for(var t in e)"children"!==t&&(r[t]=e[t])},k=function(r,e){e&&("string"==typeof e?r.innerText=e:Array.isArray(e)?e.forEach((function(e){D(r,e)})):D(r,e))},D=function(r,e){e.$$typeof===h?r.appendChild(function(r){var e=document.createElement(r.type);return r._domElement=e,_(e,r.props),r.props.children&&k(e,r.props.children),e}(e)):e.$$typeof===b?function(r,e){var t=new e.type(e.props);e._domElement=r,t.rootDomRef=r,t.prevRenderVNodeRef=t.render(),D(r,t.prevRenderVNodeRef)}(r,e):e.props.children&&k(r,e.props.children)},x=function(r,e){var t=document.createElement(r);return _(t,e),t};function C(r,e){return function(r){if(Array.isArray(r))return r}(r)||function(r,e){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,o,i=[],c=!0,u=!1;try{for(t=t.call(r);!(c=(n=t.next()).done)&&(i.push(n.value),!e||i.length!==e);c=!0);}catch(r){u=!0,o=r}finally{try{c||null==t.return||t.return()}finally{if(u)throw o}}return i}}(r,e)||function(r,e){if(r){if("string"==typeof r)return T(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?T(r,e):void 0}}(r,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}var U=function(r,e){if(e.type!==n){if(e.type!==i)return e.type===o&&(function(r,e){e.attrUpdater.set.forEach((function(e){var t=C(e,2),n=t[0],o=t[1];return r.setAttribute(n,o)})),e.attrUpdater.update.forEach((function(e){var t=C(e,2),n=t[0],o=t[1];return r[n]=o})),e.attrUpdater.remove.forEach((function(e){return r.removeAttribute(e)}))}(r,e),e.childrenUpdater&&I(r,e.childrenUpdater)),e.type===u&&function(r,e){var t=document.createElement(e.type);_(t,e.props),r.appendChild(t)}(r,e.node),r;!function(r,e){var t=document.createElement(e.type);_(t,e.props),r.replaceWith(t)}(r,e.node)}},I=function(r,e){for(var t=0,o=0;o<e.length;++o)if(e[o].type!==n){var i=e[o],p=r.childNodes[o+t];i.type!==u?i.type!==c?U(p,i):(p.remove(),t-=1):p.appendChild(x(i.node.type,i.node.props))}};function N(r){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},N(r)}function V(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function B(r,e){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r},B(r,e)}function M(r,e){if(e&&("object"===N(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(r)}function q(r){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},q(r)}var H=function(r){!function(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&B(r,e)}(c,r);var e,t,n,o,i=(n=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(r){return!1}}(),function(){var r,e=q(n);if(o){var t=q(this).constructor;r=Reflect.construct(e,arguments,t)}else r=e.apply(this,arguments);return M(this,r)});function c(r){return function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),i.call(this,r)}return e=c,t=[{key:"shouldComponentUpdate",value:function(r){return this.props.value===r.value}},{key:"setState",value:function(r,e){this.state=r(this.state),console.log("setState called"),e&&e(),function(r){if(!r.rootDomRef||!r.prevRenderVNodeRef)throw new Error("rootDomRef or prevRenderVNodeRef is empty. component: ".concat(r));var e,t,n,o=r.render();console.log(o),o.$$typeof.description===b.description&&(o._instance=r),r.rootDomRef,e=r.prevRenderVNodeRef,n=$(e,t=o),U(e._domElement,n),t._domElement=e._domElement,r.prevRenderVNodeRef=o}(this)}}],t&&V(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),c}(t);function W(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}var z=function(){function r(e){!function(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.root=e}var e,t;return e=r,(t=[{key:"render",value:function(r){D(this.root,r)}},{key:"unmount",value:function(){}}])&&W(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),r}();function F(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.push.apply(t,n)}return t}function G(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?F(Object(t),!0).forEach((function(e){J(r,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}))}return r}function J(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function K(r){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},K(r)}var L=function(r,e,t){if("object"===K(r)){var n={$$typeof:r.$$typeof,type:r.type,props:G(G({},r.props),e),key:t||d};return"function"==typeof n.props.children&&(n.props.children=n.props.children(n.props.value)),n}if("string"==typeof r)return{$$typeof:h,type:r,props:e,key:t||d};var o,i={$$typeof:b,type:r,props:e,key:t||d};return i._instance=new i.type(e),i.props.children=null===(o=i._instance)||void 0===o?void 0:o.render(),i},Q=function(r,e,t){return L(r,e,t)},X=function(r,e,t){return L(r,e,t)};function Y(r){return Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Y(r)}function Z(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function rr(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function er(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function tr(r,e,t){return e&&er(r.prototype,e),t&&er(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function nr(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&or(r,e)}function or(r,e){return or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r},or(r,e)}function ir(r){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(r){return!1}}();return function(){var t,n=pr(r);if(e){var o=pr(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return cr(this,t)}}function cr(r,e){if(e&&("object"===Y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ur(r)}function ur(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function pr(r){return pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pr(r)}var fr=function(r){nr(t,r);var e=ir(t);function t(r){return rr(this,t),e.call(this,r)}return tr(t,[{key:"render",value:function(){return X("header",{class:"main__header",children:[Q("p",{children:"Item: ".concat(this.props.count.toString())}),Q("p",{children:"Item 2"})]})}}]),t}(H),ar=function(r){nr(t,r);var e=ir(t);function t(){var r;rr(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Z(ur(r=e.call.apply(e,[this].concat(o))),"state",{count:0}),r}return tr(t,[{key:"render",value:function(){var r=this;return X("div",{class:"main",children:[Q(fr,{count:this.state.count}),Q("h1",{children:"Hello world!"}),Q("button",{onclick:function(){return r.setState((function(r){return{count:r.count+1}}))},children:"Increment button"})]})}}]),t}(H);(function(r){if(!r)throw new Error("Root element: ".concat(r));return new z(r)})(document.querySelector("#root")).render(Q(ar,{}))})();
//# sourceMappingURL=main.js.map